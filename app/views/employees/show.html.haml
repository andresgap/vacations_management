%p#notice= notice
%p
  %b First name:
  = @employee.first_name
%p
  %b Last name:
  = @employee.last_name
%p
  %b Identification:
  = @employee.identification
%p
  %b Leader name:
  = @employee.leader_name
%p
  %b Start working on:
  = @employee.start_working_on
%h1 Employee vacations report
%table
  %tr
    %th Days
    %th Description
    %th Date of Request
    %th
  %tr
    %td{:class=>(@employee.vacations_per_month > 0 ? 'green' : 'red')}= @employee.vacations_per_month
    %td== Monthly based vacations since #{@employee.try(:start_working_on)}
  -@vacations.each do |v|
    %tr
      %td{:class=>(v.try(:days) > 0 ? 'green' : 'red')}= v.days
      %td= v.description
      %td= v.requested_on
      %td= link_to('Delete', employee_vacation_path(@employee, v.id), :method => :delete, :confirm=>'Are you sure that you want to delete this Vacation registration?')
  %tr{:style=>'border-top:2px solid black;'}
    %td
      %strong=@employee.total_vacations_days
    %td
      %strong Total Amount of vacations left	
    %td
%br
= link_to 'Edit employee', edit_employee_path(@employee)
|
= link_to 'Add/Request Vacations', new_employee_vacation_path(@employee)
|
\#{link_to 'Back', employees_path}
